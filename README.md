# ShortLink - çŸ­é“¾æœåŠ¡

ç®€å•ã€å®‰å…¨ã€å¼ºå¤§çš„çŸ­é“¾ç”Ÿæˆå·¥å…·ã€‚åŸºäº Next.js 14 + Prisma + SQLite æ„å»ºã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### ğŸ”— çŸ­é“¾ç”Ÿæˆ
- è‡ªåŠ¨ç”ŸæˆçŸ­é“¾è·¯å¾„ï¼ˆBase62/NanoIDï¼‰
- æ”¯æŒè‡ªå®šä¹‰çŸ­é“¾è·¯å¾„
- è‡ªåŠ¨æŠ“å–ç›®æ ‡é¡µé¢æ ‡é¢˜
- è®¿é—®ç»Ÿè®¡å’Œæ—¥å¿—è®°å½•

### ğŸ›¡ï¸ å®‰å…¨åŠŸèƒ½
- å¯†ç ä¿æŠ¤çŸ­é“¾
- äºŒæ¬¡ç¡®è®¤è·³è½¬
- å®‰å…¨è¿‡æ¸¡é¡µé¢
- ç™½åå•/é»‘åå•åŸŸåç®¡ç†
- é˜²é’“é±¼æç¤º

### âš¡ è·³è½¬æ¨¡å¼
- **ç›´æ¥è·³è½¬**ï¼šæ— ä¸­é—´é¡µé¢ï¼Œç›´æ¥302é‡å®šå‘
- **è¿‡æ¸¡é¡µé¢**ï¼šæ˜¾ç¤ºç›®æ ‡ä¿¡æ¯ï¼Œè‡ªåŠ¨å€’è®¡æ—¶è·³è½¬
- **æ‰‹åŠ¨ç¡®è®¤**ï¼šéœ€è¦ç”¨æˆ·æ‰‹åŠ¨ç‚¹å‡»ç¡®è®¤
- **å¿«é€Ÿè·³è½¬**ï¼š`/to?url=` æ¨¡å¼ï¼Œä¸´æ—¶å®‰å…¨è·³è½¬

### ğŸ“Š ç®¡ç†åŠŸèƒ½
- çŸ­é“¾åˆ—è¡¨ç®¡ç†
- è®¿é—®ç»Ÿè®¡æŸ¥çœ‹
- æ‰¹é‡æ“ä½œæ”¯æŒ
- è¿‡æœŸæ—¶é—´è®¾ç½®

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- Bun (æ¨è) æˆ– npm/yarn

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
```bash
git clone <repository-url>
cd shortlink
```

2. **å®‰è£…ä¾èµ–**
```bash
bun install
```

3. **ç¯å¢ƒé…ç½®**
```bash
cp .env.example .env.local
# ç¼–è¾‘ .env.local é…ç½®æ•°æ®åº“å’Œåº”ç”¨URL
```

4. **åˆå§‹åŒ–æ•°æ®åº“**
```bash
bun run setup
```

5. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
```bash
bun run dev
```

è®¿é—® [http://localhost:3000](http://localhost:3000) å¼€å§‹ä½¿ç”¨ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ links/         # çŸ­é“¾ç®¡ç† API
â”‚   â”‚   â”œâ”€â”€ visit/         # è®¿é—®ç»Ÿè®¡ API
â”‚   â”‚   â””â”€â”€ to/            # å¿«é€Ÿè·³è½¬ API
â”‚   â”œâ”€â”€ [path]/            # çŸ­é“¾è®¿é—®é¡µé¢
â”‚   â”œâ”€â”€ to/                # å¿«é€Ÿè·³è½¬é¡µé¢
â”‚   â””â”€â”€ page.tsx           # ä¸»é¡µ
â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”œâ”€â”€ Navbar.tsx         # å¯¼èˆªæ 
â”‚   â”œâ”€â”€ HomeView.tsx       # ä¸»é¡µè§†å›¾
â”‚   â”œâ”€â”€ SafeRedirectView.tsx # å®‰å…¨è·³è½¬é¡µé¢
â”‚   â””â”€â”€ SettingsView.tsx   # è®¾ç½®é¡µé¢
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”œâ”€â”€ db.ts              # æ•°æ®åº“è¿æ¥
â”‚   â””â”€â”€ utils.ts           # å·¥å…·å‡½æ•°
â”œâ”€â”€ prisma/                # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ schema.prisma      # æ•°æ®æ¨¡å‹
â””â”€â”€ scripts/               # è„šæœ¬æ–‡ä»¶
    â””â”€â”€ init-db.ts         # æ•°æ®åº“åˆå§‹åŒ–
```

## ğŸ› ï¸ å¯ç”¨è„šæœ¬

```bash
# å¼€å‘
bun run dev              # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
bun run build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
bun run start            # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# æ•°æ®åº“
bun run db:generate      # ç”Ÿæˆ Prisma å®¢æˆ·ç«¯
bun run db:push          # æ¨é€æ•°æ®åº“æ¨¡å¼
bun run db:migrate       # è¿è¡Œæ•°æ®åº“è¿ç§»
bun run db:studio        # æ‰“å¼€ Prisma Studio
bun run db:init          # åˆå§‹åŒ–ç¤ºä¾‹æ•°æ®
bun run db:reset         # é‡ç½®æ•°æ®åº“

# ä¸€é”®è®¾ç½®
bun run setup            # ç”Ÿæˆå®¢æˆ·ç«¯ + æ¨é€æ¨¡å¼ + åˆå§‹åŒ–æ•°æ®
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
```bash
# æ•°æ®åº“è¿æ¥
DATABASE_URL="file:./dev.db"

# åº”ç”¨åŸºç¡€URL
NEXT_PUBLIC_BASE_URL="http://localhost:3000"
```

### æ•°æ®åº“è¿ç§»åˆ° PostgreSQL
```bash
# 1. æ›´æ–° .env.local
DATABASE_URL="postgresql://username:password@localhost:5432/shortlink"

# 2. æ›´æ–° prisma/schema.prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

# 3. é‡æ–°ç”Ÿæˆå’Œè¿ç§»
bun run db:generate
bun run db:migrate
```

## ğŸ“– API æ–‡æ¡£

### åˆ›å»ºçŸ­é“¾
```bash
POST /api/links
Content-Type: application/json

{
  "originalUrl": "https://example.com",
  "customPath": "custom", // å¯é€‰
  "password": "secret",   // å¯é€‰
  "requireConfirm": true, // å¯é€‰
  "enableIntermediate": true // å¯é€‰
}
```

### è·å–çŸ­é“¾åˆ—è¡¨
```bash
GET /api/links
```

### è®¿é—®çŸ­é“¾
```bash
GET /{path}              # ç›´æ¥è®¿é—®çŸ­é“¾
POST /api/visit/{path}   # éªŒè¯å¯†ç å¹¶è®°å½•è®¿é—®
```

### å¿«é€Ÿè·³è½¬
```bash
GET /to?url=https://example.com
```

## ğŸ¨ è®¾è®¡ç³»ç»Ÿ

é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„è®¾è®¡ç³»ç»Ÿï¼š
- **é¢œè‰²ä¸»é¢˜**ï¼šè“è‰²ä¸»è‰²è°ƒ (#4DB7FF)
- **å­—ä½“**ï¼šInter å­—ä½“å®¶æ—
- **åŠ¨ç”»**ï¼šSpring ç¼“åŠ¨å‡½æ•°
- **ç»„ä»¶**ï¼šå¯çˆ±é£æ ¼çš„å¡ç‰‡å’ŒæŒ‰é’®
- **å›¾æ ‡**ï¼šLucide React å›¾æ ‡åº“

## ğŸš€ éƒ¨ç½²

### Vercel éƒ¨ç½²
1. æ¨é€ä»£ç åˆ° GitHub
2. åœ¨ Vercel å¯¼å…¥é¡¹ç›®
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²å®Œæˆ

### è‡ªæ‰˜ç®¡éƒ¨ç½²
```bash
# æ„å»ºé¡¹ç›®
bun run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
bun run start
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

---

**ShortLink** - è®©é•¿é“¾æ¥å˜çŸ­ï¼Œè®©åˆ†äº«æ›´ç®€å• âœ¨